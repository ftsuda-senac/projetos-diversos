<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Formulário</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" />
<!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js"></script>
</head>
<body>
  <main class="container">
    <div class="row">
      <section class="col-md-12">
        <h1>Formulário com validação</h1>
        <form method="post" th:action="@{/formulario/salvar-prg-validacao}" th:object="${dadosPessoais}" novalidate>
          <input type="hidden" name="id" value="123" th:field="*{id}">
          <div class="row mb-3">
            <label for="txtNome" class="col-sm-2 col-form-label">Nome</label>
            <div class="col-sm-10">
              <input type="text" name="nome" class="form-control"
                th:classappend="${#fields.hasErrors('nome')}? is-invalid" id="txtNome" placeholder="Nome completo"
                th:field="*{nome}" required maxlength="100" />
              <div class="invalid-feedback" th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}">Digite um
                nome.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtDescricao" class="col-sm-2 col-form-label">Descrição</label>
            <div class="col-sm-10">
              <textarea name="descricao" class="form-control" id="txtDescricao" placeholder="Descrição"
                th:field="*{descricao}"></textarea>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtDataNascimento" class="col-sm-2 col-form-label">Data de nascimento</label>
            <div class="col-sm-10">
              <input type="date" name="dataNascimento" class="form-control"
                th:classappend="${#fields.hasErrors('dataNascimento')}? is-invalid" id="txtDataNascimento"
                placeholder="Data no formato yyyy-MM-dd" th:field="*{dataNascimento}"
                th:max="${#dates.format(#dates.createNow(), 'yyyy-MM-dd')}" />
              <div class="invalid-feedback" th:if="${#fields.hasErrors('dataNascimento')}" th:errors="*{dataNascimento}">
                Digite uma data válida.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtEmail" class="col-sm-2 col-form-label">E-mail</label>
            <div class="col-sm-10">
              <input type="email" name="email" class="form-control"
                th:classappend="${#fields.hasErrors('email')}? is-invalid" id="txtEmail" placeholder="E-mail"
                th:field="*{email}" />
              <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Digite um
                e-mail.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtTelefone" class="col-sm-2 col-form-label">Telefone</label>
            <div class="col-sm-10">
              <input type="text" name="telefone" class="form-control" id="txtTelefone" placeholder="(99) 99999-9999"
                th:field="*{telefone}" />
            </div>
          </div>

          <div class="row mb-3">
            <label for="txtSenha" class="col-sm-2 col-form-label">Senha</label>
            <div class="col-sm-10">
              <input type="password" name="senha" class="form-control"
                th:classappend="${#fields.hasErrors('senha')}? is-invalid" id="txtSenha" placeholder="Senha"
                th:field="*{senha}" />
              <div class="invalid-feedback" th:if="${#fields.hasErrors('senha')}" th:errors="*{senha}">Digite uma
                senha.</div>
              <div class="invalid-feedback" th:if="${#fields.hasGlobalErrors()}"
                th:each="err : ${#fields.globalErrors()}" th:text="${err}"></div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtSenhaRepetida" class="col-sm-2 col-form-label">Repetir senha</label>
            <div class="col-sm-10">
              <input type="password" name="senhaRepetida" class="form-control" id="txtSenhaRepetida"
                placeholder="Repetir senha" th:field="*{senhaRepetida}" />
              <div class="invalid-feedback" th:if="${#fields.hasErrors('senhaRepetida')}" th:errors="*{senhaRepetida}">
                Digite uma senha.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtNumero" class="col-sm-2 col-form-label">Número de 1 a 99</label>
            <div class="col-sm-10">
              <input type="number" name="numero" class="form-control"
                th:classappend="${#fields.hasErrors('numero')}? is-invalid" id="txtNumero"
                placeholder="Número de 1 a 99" min="1" max="99" th:field="*{numero}">
              <div class="invalid-feedback" th:if="${#fields.hasErrors('numero')}" th:errors="*{numero}">
                Digite um número válido.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtAltura" class="col-sm-2 col-form-label">Altura</label>
            <div class="col-sm-10">
              <input type="number" name="altura" class="form-control"
                th:classappend="${#fields.hasErrors('altura')}? is-invalid" id="txtAltura"
                placeholder="Altura em metros com no máximo 2 casa decimais" min="0" max="3" step="0.01"
                th:field="*{altura}">
              <div class="invalid-feedback" th:if="${#fields.hasErrors('altura')}" th:errors="*{altura}">Digite
                uma altura válida.</div>
            </div>
          </div>
          <div class="row mb-3">
            <label for="txtPeso" class="col-sm-2 col-form-label">Peso</label>
            <div class="col-sm-10">
              <input type="number" name="peso" class="form-control"
                th:classappend="${#fields.hasErrors('peso')}? is-invalid" id="txtPeso"
                placeholder="Peso em Kg com no máximo 1 casa decimal" min="0" max="500" step="0.1" th:field="*{peso}">
              <div class="invalid-feedback" th:if="${#fields.hasErrors('peso')}" th:errors="*{peso}">Digite um
                peso válido.</div>
            </div>
          </div>
          <fieldset class="row mb-3">
            <legend class="col-form-label col-sm-2 pt-0">Gênero</legend>
            <div class="col-sm-10">
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="genero" id="generoF" value="0" checked th:field="*{genero}" />
                <label class="form-check-label" for="generoF">Feminino</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="genero" id="generoM" value="1" th:field="*{genero}">
                <label class="form-check-label" for="generoM">Masculino</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="genero" id="generoN" value="2" th:field="*{genero}">
                <label class="form-check-label" for="generoN">Nenhum</label>
              </div>
            </div>
          </fieldset>
          <fieldset class="row mb-3">
              <legend class="col-form-label col-sm-2 pt-0">Interesses</legend>
              <div class="col-sm-10">
                <div class="form-check form-check-inline" th:each="interesse : ${interesses}">
                  <input class="form-check-input" type="checkbox" name="interesses" th:id="interesse + ${interesse}"
                    th:classappend="${#fields.hasErrors('interesses')}? is-invalid"
                    th:value="${interesse}" th:field="*{interesses}">
                    <label class="form-check-label" th:for="interesse + ${interesse}" th:text="${interesse}"></label>
                </div>
                <div class="invalid-feedback" style="display: block;" th:if="${#fields.hasErrors('interesses')}" th:errors="*{interesses}">Selecione pelo menos uma opção</div>
              </div>
          </fieldset>
          <div class="row">
            <div class="col-md-3 offset-md-3">
                <div class="d-grid">
                    <button type="submit" class="btn btn-success">Enviar</button>
                </div>
            </div>
            <div class="col-md-3">
                <div class="d-grid">
                    <a th:href="@{/formulario/lista}" role="button" class="btn btn-outline-dark">Cancelar</a>
                </div>
            </div>
          </div>
        </form>
      </section>
    </div>
  </main>
</body>
</html>